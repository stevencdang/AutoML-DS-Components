version: "2"
services:
    proxy:
        image: 
            registry.datadrivendiscovery.org/sdang/cmu-ta3/dexplorer.proxy:local
        ports:
            - "8080:8080"
        environment:
            - D3MCONFIG=/datashop/workflow_components/D3M/d3m.cfg
            - D3MINPUTDIR=/rdata/dataStore/d3m/datasets/seed_datasets_current
            - D3MOUTPUTDIR=/rdata/dataStore/d3m/test_data_out
            - TA2ADDR=sophia.stevencdang.com:45042
            - TA2NAME=cmu
            - NGINX_HOST=sophia.stevencdang.com
            - NGINX_PORT=8080
            - LEARNSPHERE_HOST=sophia.stevencdang.com
            - LEARNSPHERE_PORT=9051
            - FRONTEND_HOST=localhost
            - FRONTEND_PORT=9051
            - BACKEND_HOST=localhost
            - BACKEND_PORT=5000
            - DB_HOST=localhost
            - DB_PORT=27017
            - VIZ_HOST=localhost
            - VIZ_PORT=5200
        volumes:
            - /rdata/dataStore/d3m/datasets/seed_datasets_current:/rdata/dataStore/d3m/datasets/seed_datasets_current
            - /rdata/dataStore/d3m/test_data_out:/rdata/dataStore/d3m/test_data_out

